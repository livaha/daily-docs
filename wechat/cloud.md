# 微信云函数基础

[云开发文档](<https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html> )

开发者可以使用云开发开发微信小程序、小游戏，无需搭建服务器，即可使用云端能力。



### 三大基础能力支持

云函数：获取appid,获取openid,生成分享图，调用腾讯云SDK...

云数据库：数据增加，数据删除，数据修改，数据查询...

云存储：管理文件，上传文件，下载文件，分享文件...



### 云开发服务设置

#### 1 开通云开发服务

![](https://user-gold-cdn.xitu.io/2019/6/7/16b321e7b77df0ab?w=478&h=167&f=png&s=18098)





#### 2 开通后可进入云开发控制平台

每个小程序账号可以创建2个环境，我们可以创建一个开发环境，一个生产环境，创建如下图

![](https://user-gold-cdn.xitu.io/2019/6/7/16b322174b93a648?w=1195&h=477&f=png&s=46351)



#### 3 版本库设置 

使用云开发功能，开发者工具基础库必须在2.2.3版本以上，

选择下图‘>>’，点击详情，设置基础库版本。

![](https://user-gold-cdn.xitu.io/2019/6/7/16b3223e0dcf6e2a?w=412&h=815&f=png&s=53833)



### 云开发能力

#### 数据库 [文档](<https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/capabilities.html#%E6%95%B0%E6%8D%AE%E5%BA%93> )

| 关系型          | 文档型            |
| --------------- | ----------------- |
| 数据库 database | 数据库 database   |
| 表 table        | 集合 collection   |
| 行 row          | 记录 record / doc |
| 列 column       | 字段 field        |

#### 数据类型

云开发数据库提供以下几种数据类型：

- String：字符串
- Number：数字
- Object：对象
- Array：数组
- Bool：布尔值
- GeoPoint：地理位置点
- Date：时间
- Null



#### 权限管理 

对一个用户来说，不同模式在小程序端和管理端的权限表现如下：

 

| 模式                                   | 小程序端 读自己创建的数据 | 小程序端 写自己创建的数据 | 小程序端 读他人创建的数据 | 小程序端 写他人创建的数据 | 管理端 读写任意数据 |
| -------------------------------------- | ------------------------- | ------------------------- | ------------------------- | ------------------------- | ------------------- |
| 仅创建者可写，所有人可读               | √                         | √                         | √                         | ×                         | √                   |
| 仅创建者可读写                         | √                         | √                         | ×                         | ×                         | √                   |
| 仅管理端可写，所有人可读               | √                         | ×                         | √                         | ×                         | √                   |
| 仅管理端可读写：该数据只有管理端可读写 | ×                         | ×                         | ×                         | ×                         | √                   |



### 使用

### 创建一个集合

![](https://user-gold-cdn.xitu.io/2019/6/7/16b3231059ac1647?w=891&h=331&f=png&s=36374)

创建成功后，可以看到 `todos` 集合管理界面，界面中我们可以添加记录、查找记录、管理索引和管理权限。

 

#### 开始一个demo











